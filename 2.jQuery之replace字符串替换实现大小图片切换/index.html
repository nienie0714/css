<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>2.jQuery之replace字符串替换实现大小图片切换</title>
    <script src="https://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>
    <style>
      #choose {
        padding: 0.5em 1.5em;
        border-bottom: 1px solid #ddd;
      }

      .btn {
        display: inline-block;
        padding: 4px 9px;
        color: #666;
        text-decoration: none;
      }

      .btn:hover,
      .on {
        padding: 3px 8px;
        border: 1px solid #72818c;
        color: #3E6173;
        border-radius: 2px;
      }

      .on,
      .on:hover {
        background: #f4f4f4;
        color: #333;
        cursor: default;
      }

      .v-line {
        font-size: 1.3em;
        vertical-align: top;
        margin: 0 5px;
      }

      .image_list {
        display: inline-block;
        width: 1.2em;
        margin-top: 20px;
        text-align: center;
        font-size: 128px;
        vertical-align: middle;
      }

      .image_list img.image {
        padding: 3px;
        border: 1px solid #828da1;
        background: white;
        vertical-align: middle;
        position: relative;
      }

      .image_list:hover,
      .image_list:hover .image {
        border-color: #f00;
      }

      .image_list:active .image {
        border-color: green;
      }



      .image_list:visited .image {
        border-color: peru;
      }
    </style>
  </head>

  <body>
    <div class="content">
      <div id="choose">
        <a href="#" class="btn on" id="small_pic">小图</a>
        <span class="v-line">|</span>
        <a href="#" class="btn" id="big_pic">大图</a>
      </div>
      <div class="showimg">
        <a href="#" class="image_list">
          <img class="image" src="http://image.zhangxinxu.com/image/study/s/s128/mm1.jpg" />
        </a>
        <a href="#" class="image_list">
          <img class="image" src="http://image.zhangxinxu.com/image/study/s/s128/mm2.jpg" />
        </a>
        <a href="#" class="image_list">
          <img class="image" src="http://image.zhangxinxu.com/image/study/s/s128/mm3.jpg" />
        </a>
        <a href="#" class="image_list">
          <img class="image" src="http://image.zhangxinxu.com/image/study/s/s128/mm4.jpg" />
        </a>
        <a href="#" class="image_list">
          <img class="image" src="http://image.zhangxinxu.com/image/study/s/s128/mm5.jpg" />
        </a>
      </div>
    </div>
    <script>
      $().ready(function() {
        setTimeout(function() {

        }, 500)
        // 给图片高宽转为em单位
        $("image").each(function() {
          var emW = $(this).width() / 128 + "em";
          var emH = $(this).width() / 128 + "em";
          $(this).css("width", emW);
          $(this).css("height", emH);
        })
      })

      function srcChg(a, b) {
        $(".image").each(function() {
          var new_src = $(this).attr("src").replace(a, b);
          console.log(new_src);
          $(this).attr("src", new_src);
        })
      }

      $("#small_pic").click(function() {
        if($(this).hasClass("on")) return;
        else {
          $("#big_pic").removeClass("on");
          $(this).addClass("on");
          $(".image_list").css("font-size", "128px");
          srcChg("s256", "s128");
          return false; //使单击后IE6下图片正常加载
        }
      })

      $("#big_pic").click(function() {
        if($(this).hasClass("on")) return;
        else {
          $("#small_pic").removeClass("on");
          $(this).addClass("on");
          $(".image_list").css("font-size", "256px");
          srcChg("s128", "s256");
          return false; //使单击后IE6下图片正常加载
        }
      })
    </script>
  </body>

</html>